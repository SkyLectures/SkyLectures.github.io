---
layout: page
title:  "(실습) 센서 평가 지표 적용해 보기"
date:   2025-07-29 10:00:00 +0900
permalink: /materials/S05-07-01-04_02-SensorEvaluationMetricsPractice
categories: materials
---
* toc
{:toc .large-only .toc-sticky:true}

## 1. 실습 개요 및 목표

- **목표**
    - **가속도 센서(Model: GEMINI-ACC-01) 분석**
        - "AI 에이전트 하드웨어(예: 이동형 소형 로봇 또는 웨어러블 기기)"에 탑재할 가속도 센서 선정
        - 실제 데이터 시트의 형식과 유사한 스펙 표를 보고,
        - 이 센서가 우리가 만들 AI 에이전트의 **'균형 잡기 및 충격 감지'** 임무에 적합한지 판단하기


## 2. 실습 과정

- **1단계: 데이터 시트 분석 (Specification Table)**

| Parameter | Symbol | Min | Typ | Max | Unit |
| --- | --- | --- | --- | --- | --- |
| **Measurement Range** | $$Range$$ | - | $$\pm 16$$ | - | $$g$$ |
| **Sensitivity** (at 12-bit) | $$S$$ | - | $$3.9$$ | - | $$mg/LSB$$ |
| **Initial Accuracy** | $$Acc$$ | - | $$\pm 1.0$$ | - | $$\% FS$$ |
| **Non-linearity** | $$Lin$$ | - | $$\pm 0.5$$ | - | $$\% FS$$ |
| **Resolution** | $$Res$$ | - | $$12$$ | - | $$bit$$ |
| **Zero-g Offset** | $$Z_{off}$$ | - | $$\pm 40$$ | - | $$mg$$ |
| **Response Time** | $$T_{resp}$$ | - | $$0.5$$ | - | $$ms$$ |
| **Hysteresis** | $$Hys$$ | - | $$0.1$$ | - | $$\% FS$$ |

- **2단계: 성능 지표 해석 및 판단**
    - AI 에이전트의 핵심 기능별로 지표 해석

    - **① 균형 유지 (기울기 감지)**
        - **관련 지표**: **Sensitivity(감도)** & **Zero-g Offset(오프셋)**
        - **판단**
            - 12비트에서 $$3.9mg/LSB$$의 감도를 가짐
            - 이는 중력의 약 0.4% 변화까지 읽어낼 수 있다는 뜻
            - AI 에이전트가 넘어지지 않게 미세하게 자세를 잡는 데 충분히 예민한 수준
            - 다만, 정지 상태에서 $$40mg$$의 오프셋이 있으니 **영점 보정(Calibration)** 알고리즘이 필수

    - **② 낙하 및 충격 감지 (안전 장치)**
        - **관련 지표**: **Measurement Range(측정 범위)** & **Response Time(응답 시간)**
        - **판단**
            - 범위가 $$\pm 16g$$로 매우 넓음
            - 에이전트가 바닥에 떨어질 때 발생하는 큰 충격($$10g$$ 이상)도 잘리지 않고(Saturation 없이) 측정 가능
            - 응답 시간이 $$0.5ms$$로 매우 빨라 충돌 즉시 AI 에이전트가 보호 모드로 전환하거나 모터를 정지시키는 피드백이 가능

    - **③ 이동 거리 추정 (Dead Reckoning)**
        - **관련 지표**: **Non-linearity(선형성)** & **Hysteresis(히스테리시스)**
        - **판단**
            - 선형성 오차가 $$0.5%$$ 로 낮음
            - 가속도 데이터를 적분하여 이동 거리를 계산할 때,
            - 소프트웨어 보정 부담이 적어 AI 모델이 경로를 예측하기에 유리함

- **3단계: 최종 적합성 판정 (AI 에이전트 팀 보고용)**
    - **[판정 결과: 채택(Selected)]**
        - **이유**
            - 높은 응답 속도($$0.5ms$$)와 넓은 측정 범위($$\pm 16g$$) 덕분에
            - AI의 빠른 판단과 안전 확보에 유리함
        - **보완 사항**
            - 초기 정확도가 $$\pm 1%$$ 이므로,
            - 제품 출하 전 반드시 **정밀도(Precision)** 확인을 위해
            - 동일 조건 반복 측정을 수행하고 소프트웨어적으로 오프셋을 제거해야 함

## 3. 심화 질문

> - **"만약 AI 에이전트가 '드론'이라면, 응답 시간이 10ms로 늘어났을 때 어떤 일이 벌어질까?"**
{: .common-quote}

- 응답 시간이 기존(예: $$0.5\text{ms}$$)에서 $$10\text{ms}$$로 늘어났을 때 드론에게 벌어지는 일<br><br>
    - **제어 루프의 붕괴 (Stability Issue)**
        - 드론은 매 순간 수백, 수천 번 가속도와 자이로 센서값을 읽어 모터 속도를 조절하며 수평을 잡음
        - **현상**
            - 센서 데이터가 $$10\text{ms}$$ 전의 과거 데이터를 보고하게 되면,
            - 비행 컨트롤러(FC)는 **'이미 지나간 기울기'**를 바로잡으려고 모터를 가동
        - **결과**
            - 보정 시점이 항상 늦어지면서 드론이 미세하게 떨리기 시작하다가,
            - 결국 진폭이 커지는 발산(Divergence) 현상이 발생하여 뒤집히거나 추락하게 됨
    - **장애물 회피 불능 (Safety Issue)**
        - AI 에이전트가 시속 $$36\text{km/h}$$ ($$10\text{m/s}$$)로 비행 중이라고 가정
        - **계산**
            - $$10\text{ms}$$의 지연 시간 동안
            - 드론은 이미 **$$10\text{cm}$$**를 더 이동한 상태
        - **결과**
            - 센서가 장애물을 감지하고 AI가 "멈춰!"라고 명령을 내렸을 때는
            - 이미 기체가 장애물 쪽으로 $$10\text{cm}$$ 더 깊숙이 들어간 뒤
            - 초정밀 비행이 필요한 협소 공간이나 고속 비행 시에는 이 한 끗 차이로 충돌 사고가 발생함
    - **'젤로 현상' 및 위치 추정 오차 (Data Quality)**
        - 드론의 카메라는 짐벌을 통해 수평을 유지하는데 센서 응답이 느리면 짐벌 제어에 시차가 생김
        - **현상**
            - 기체의 진동을 센서가 실시간으로 상쇄하지 못해
            - 영상이 물결치듯 일렁이는 **젤로 현상(Jello Effect)** 발생
        - **결과**
            - AI 에이전트의 '눈'에 해당하는 비전 알고리즘이 왜곡된 영상을 분석하게 되어,
            - 객체 인식률이 떨어지고 자신의 현재 위치를 오판하는 연쇄 오류가 발생<br><br>
- **결론**
    - 드론에게 응답 시간은 **'반사 신경'**
    - 응답 시간이 $10\text{ms}$로 느려진다는 것은 사람으로 치면
    - 눈을 감고 $$10\text{cm}$$를 이동한 뒤에야 앞을 확인하는 것과 같음
    - 이 지연(Latency)은 제어 시스템의 **위상 지연(Phase Lag)**을 야기해
    - 드론을 제어 불능 상태인 '진동'과 '추락'으로 몰아넣는 결정적 원인이 됨
<br><br>

> - **"정밀도를 높이기 위해 16-bit ADC를 외부에 추가로 달면 분해능은 어떻게 변할까?"**
{: .common-quote}

- 시스템의 디지털 분해능은 비약적으로 좋아지지만, 그것이 반드시 센서의 실제 정밀도 향상으로 이어지지는 않음
    - **12-bit ADC (기존)**
        - 범위를 $$2^{12} = 4,096$$단계로 쪼갬
        - 감도 예시: $$3.9\text{ mg/LSB}$$
    - **16-bit ADC (추가)**
        - 범위를 $$2^{16} = 65,536$$단계로 쪼갬
        - 감도 계산: $$16\text{ bit}$$는 $$12\text{ bit}$$보다 16배 더 촘촘한 눈금을 가짐
    - **결과**
        - 최종 감도: $$3.9 / 16 \approx 0.24\text{ mg/LSB}$$
        - 즉, 디지털적으로 데이터를 읽는 '눈금의 촘촘함'은 16배나 정교해짐<br><br>
- **'엔지니어링의 함정'**
    - 돋보기를 크게 본다고 해서 흐릿한 사진이 선명해지지 않는 것과 같은 이치
    - **센서 자체의 노이즈 플로어 (Noise Floor)**
        - 센서 소자 자체가 가진 고유의 노이즈가 $$1\text{ mg}$$ 수준이라면,
        - ADC가 $$0.24\text{ mg}$$ 단위로 쪼개서 읽어봐야 의미가 없음
        - 결과적으로 하위 비트들은 실제 신호가 아니라 '노이즈' 때문에 계속 출렁거리는 값이 될 것
    - **유효 비트수 (ENOB, Effective Number of Bits)**
        - 사양서에는 16-bit라고 적혀 있어도,
        - 실제 회로의 노이즈 환경 때문에 의미 있는 데이터는 상위 13~14비트 정도일 수 있음
        - 이를 ENOB라고 부름
        - 실무 설계 시 반드시 체크해야 할 항목
    - **하드웨어 배선의 한계**
        - 외부 ADC를 달기 위해 연결한 점퍼 와이어나 PCB 패턴이 외부 전자기 노이즈(EMI)를 타게 되면,
        - 높아진 분해능이 오히려 독이 되어 데이터가 더 불안정해질 수 있음<br><br>
- **결론**
    - 16-bit ADC를 달면 수치상의 분해능은 16배 좋아짐
    - 하지만 이는 '눈금'이 촘촘해진 것일 뿐, 센서가 가진 노이즈보다 더 작은 단위로 쪼개는 것은 의미가 없음
    - 따라서 ADC 업그레이드와 함께 아날로그 전단부(AFE)의 노이즈 억제 설계가 병행되어야만
    - 비로소 정밀도가 향상되었다고 말할 수 있음
