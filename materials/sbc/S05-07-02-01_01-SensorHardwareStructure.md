---
layout: page
title:  "센서의 하드웨어 구조와 원리"
date:   2025-07-29 10:00:00 +0900
permalink: /materials/S05-07-02-01_01-SensorHardwareStructure
categories: materials
---
* toc
{:toc .large-only .toc-sticky:true}


> - 센서의 하드웨어는 단순히 하나의 칩이 아니라,
> - 외부 자극을 수용하고 다듬어 컴퓨터가 이해할 수 있는 언어로 변환하는 **'신호 처리 체인(Signal Chain)'**의 집합체
{: .common-quote}


## 1. 센서 하드웨어의 표준 4단계 구조

- 모든 센서는 측정 대상에 상관없이 공통적으로 다음과 같은 하드웨어 계층을 가짐

### 1.1 센싱 소자 (Sensing Element / Transducer)

- **역할**
    - 물리/화학적 에너지를 전기적 에너지로 바꾸는 **1차 변환기**
- **하드웨어 구성**
    - **물리 센서**: 멤브레인(압력), 질량체(가속도), 빗질 구조의 전극(정전용량) 등
    - **화학/바이오 센서**: 효소층, 이온 선택막, 금속 산화물 박막 등
- **원리**
    - 외부 자극이 가해지면 소자의 **저항($$R$$), 정전용량($$C$$), 기전력($$V$$)** 중 하나가 변화함

- **내부 메커니즘**
    - 센싱 소자(Sensing Element)가 물리적 현상을 전기로 바꾸는 방법

    <div class="insert-image" style="text-align: center;">
        <img style="width: 700px;" src="/materials/sbc/images/S05-07-02-01_01-001.jpg">
    </div>

    > - 가속도($$a$$)는 공식에 직접 포함되는 변수가 아니라, **결과적으로 $$d$$나 $$A$$를 변화시키는 '원인'**
    > 1. 가속도($$a$$) 발생: 외부에서 힘이 가해짐
    > 2. 질량체 이동: 내부에 매달린 질량체가 움직임
    > 3. 기하학적 변화: 질량체가 움직이면서 고정 전극과의 **간격($$d$$)**이 좁아지거나, 서로 마주 보는 **면적($A$)**이 달라짐
    > 4. 값의 변화: 이 $$d$$나 $$A$$가 변하면서 최종적으로 **정전용량($$C$$)**이 바뀌게 됨
    {: .summary-quote}

    <br>

    - **[1단계] 물리적 변화의 수용: 센싱 매스(Sensing Mass)**
        - **구조**
            - 실리콘 기판 위에 아주 미세한 스프링 구조로 매달려 있는 질량체 ➜ Sensing Mass(감지 질량체, 그림 중앙의 초록색 부분)

        - **원리**
            - 외부에서 가속도나 충격(Acceleration Force)이 가해지면 ➜ 관성의 법칙에 따라 이 질량체가 좌우로 움직임

        - **의의**
            - 센싱 소자의 첫 번째 임무는 보이지 않는 '힘'을 눈에 보이는 '물리적 움직임'으로 치환하는 것

    - **[2단계] 에너지의 변환: 정전용량(Capacitance) 변화**
        - **구조**
            - 고정 전극과 질량체 사이의 빗살 무늬 구조가 핵심
            - 움직이는 질량체의 전극과 고정된 전극이 서로 맞물려 있음

        - **원리**
            - 질량체가 움직이면 두 전극 사이의 간격($$d$$)이 변함
            - 전기적으로 두 전극 사이의 간격이 변하면
            - 전기를 저장하는 능력인 **정전용량(Capacitance)**이 변하게 됨

        - **변환 공식**
            - $$C = \epsilon \frac{A}{d}$$, 간격 $$d$$가 좁아지면 정전용량 $$C$$는 커짐
                - C: 정전용량(Capacitance)
                - $$\epsilon$$: 유전율(Dielectric constant). 전극 사이 물질의 특성, 보통 공기
                - A: 전극의 단면적(Area). 두 전극판이 서로 마주 보고 있는 유효 면적
                - $$d$$: 두 전극판 사이의 간격

        - **결과**
            - 이 단계에서 물리적 변위(Movement)가 **전기적 특성 변화(Capacitance)**로 치환됨

    - **[3단계] 전기 신호의 출력: C-to-V 변환**
        - **역할**
            - 그림 우측 상단의 **정전용량-전압 변환기** 블록의 역할<br><br>
            - 변해버린 정전용량 값은 그 자체로는 컴퓨터가 읽을 수 없음
            - 이를 우리가 흔히 아는 **전압(Voltage)** 신호로 다시 한번 변환

        - **그래프 해석**
            - 우측 하단의 그래프를 보면, 가속도가 커질수록 출력되는 전압이 선형적으로 높아지는 것을 볼 수 있음

        - **최종 결과**
            - 시스템은 "전압이 2.5V니까 현재 가속도는 $$5m/s^{2}$$ 이구나!"라고 판단할 수 있게 됨


> - 센싱 소자는 **'물리적 자극 → 기계적 변위 → 전기적 특성 변화'**라는 3단계를 거치는 **트랜스듀서(Transducer)**
> - 그림에서 질량체가 움직이고 전극 사이의 간격이 변하는 과정이 바로 '기계가 세상을 느끼는 방식'
{: .expert-quote}


### 1.2 아날로그 프론트엔드 (AFE: Analog Front-End)

- **역할**
    - 소자에서 나온 아주 미세하고 거친 신호를 깨끗하게 가공

- **핵심 회로**
    - **증폭기(Amplifier)**
        - 단위의 작은 신호를 시스템이 인식할 수 있는 전압 레벨로 증폭
    - **필터(Filter)**
        - 주변 전자기기나 진동에서 오는 노이즈(Noise)를 차단


- **내부 메커니즘**
    - 센서 소자에서 나온 **'가공되지 않은 거친 신호(Raw Signal)'**가 어떻게 컴퓨터가 이해할 수 있는 **'깨끗한 디지털 데이터'**로 변형되는가?

    <br>

    <div class="insert-image" style="text-align: center;">
        <img style="width: 900px;" src="/materials/sbc/images/S05-07-02-01_01-002.jpg">
    </div>

    - **[1단계] 증폭 단계 (Amplifier / Gain Stage)**
        - 그림의 가장 왼쪽에 있는 삼각형 블록

        - **왜 필요한가?**
            - 센싱 소자에서 갓 나온 신호는 보통 나  단위로 매우 미약함
            - 이 상태로는 뒤에 있는 ADC가 값을 제대로 읽을 수 없음
        - **역할**
            - 약한 신호를 일정한 비율(Gain)로 뻥튀기하여 시스템이 처리하기 적절한 전압 수준으로 증폭
        - **비유**
            - 속삭이는 소리를 마이크와 앰프를 통해 큰 목소리로 확성하는 것과 같음

    - **[2단계] 필터링 단계 (Band-pass Filter / Noise Reduction)**
        - 증폭기 뒤에 이어지는 회로 부품들(저항과 커패시터 기호) 블록

        - **왜 필요한가?**
            - 신호를 증폭할 때 주변의 전기적 잡음(전자기파, 진동 등)도 함께 커짐
        - **역할**
            - 우리가 원하는 주파수 대역의 신호만 통과
            - 불필요한 고주파 잡음이나 저주파 흔들림 차단
        - **효과**
            - "지직"거리는 노이즈 제거
            - 신호의 순도(SNR: 신호 대 잡음비) 향상

    - **[3단계] 신호 보정 단계 (Calibration / Offset Correction)**
        - 시계 바늘 모양의 기호가 있는 블록

        - **왜 필요한가?**
            - 모든 센서는 제조 공정상 미세한 오차가 있음
              - 아무런 자극이 없는데도 0이 아닌 값이 출력되는 '오프셋(Offset)' 현상이 대표적
        - **역할**
            - 하드웨어적으로 기준점을 0으로 맞추거나
            - 온도 등에 의한 왜곡을 실시간으로 보정
        - **의의**
            - 데이터의 '정확도(Accuracy)'를 확보하는 마지막 아날로그 공정

    - **[4단계] 디지털 변환 관문 (ADC: Analog-to-Digital Converter)**
        - AFE의 결과물을 받아들이는 주황색 블록입니다.

        - **역할**
            - AFE를 거쳐 깨끗해진 아날로그 전압 신호를 0과 1의 조합인 디지털 코드로 변환
        - **결과**
            - 이 단계를 거쳐야 비로소 우측의 **Microcontroller(MCU)**가 데이터를 계산하고 판단할 수 있게 됨


> - AFE를 한 마디로 정의한다면 **"신호 청정기"**
> - "센싱 소자가 세상을 '느끼는' 역할이라면, AFE는 그 느낌을 **오해 없이 전달하기 위해 다듬는** 역할
> - 필터가 없으면 노이즈 때문에 데이터가 튀고, 증폭기가 없으면 데이터가 너무 작아 보이지 않게 됨
{: .expert-quote}


### 1.3 데이터 변환부 (ADC: Analog-to-Digital Converter)

- **ADC(Analog-to-Digital Converter)**
    - 아날로그 신호라는 '연속적인 흐름'을 디지털 데이터라는 '끊어진 숫자'로 바꾸는 변환기
        - 연속적인 아날로그 전압 신호를 0과 1로 이루어진 **디지털 코드**로 변환

- **원리**
    - 샘플링(시간 분할)과 양자화(값 분할) 과정을 거쳐 물리량을 숫자로 바꿈

- **내부 메커니즘**

    <div class="insert-image" style="text-align: center;">
        <img style="width: 700px;" src="/materials/sbc/images/S05-07-02-01_01-003.jpg">
    </div>

    - **[1단계] 표본화 및 유지 (Sample & Hold, S/H)**
        - 그림 가장 왼쪽의 Sample & Hold 블록

        - **동작:**
            - 물결처럼 출렁이는 **Analog Input(연속 전압)**을
            - 일정한 시간 간격(Clock)마다 스냅샷을 찍듯 포착하여
            - 그 값을 잠시 붙잡아둠

        - **왜 필요한가?:**
            - 아날로그 값은 계속 변하기 때문에
            - 다음 단계에서 값을 측정하는 동안 전압이 바뀌지 않도록
            - '정지 화면' 상태로 유지해야 정확한 측정이 가능함

        - **핵심 지표:**
            - 얼마나 자주 찍느냐가 바로 **샘플링 속도(Sampling Rate, Hz)**

    - **[2단계] 양자화 (Quantizer)**
        - 그림 중앙의 Quantizer와 비교기($$V_{01}, V_{02}$$ 등) 블록

        - **동작:**
            - 잡고 있는 전압 값을 미리 정해진 눈금(Quantization Levels) 중 가장 가까운 수치에 끼워 맞춤

        - **원리:**
            - 그림 하단의 삼각형 모양 기호: 비교기
            - 입력된 전압을 기준 전압($V$)들과 비교하여 어떤 눈금에 해당하는지 결정

        - **비유:**
            - 키를 잴 때 소수점까지 재지 않고 1cm 단위 눈금 중 가장 가까운 곳에 맞추는 것과 같음
            - 이 눈금이 촘촘할수록 원래 신호에 가까워짐 ➜ **분해능(Resolution, bit)**

    - **[3단계] 부호화 (Encoder)**
        - 그림 오른쪽의 Encoder 블록

        - **동작:**
            - 양자화된 눈금 번호를 컴퓨터가 이해할 수 있는 **0과 1의 조합(Binary Data)**으로 최종 변환

        - **결과:**
            - 그림에 적힌 01101001 같은 이진수 데이터가 되어 MCU나 컴퓨터로 전송됨

        - **의의:**
            - 이 단계를 거치면 물리적인 '전압'은 사라지고
            - 순수한 '정보'인 디지털 데이터만 남게 됨

> - 아날로그 신호가 매끄러운 경사로라면, 디지털 신호는 계단
> - ADC는 경사로 위를 걷는 사람의 높이를 매 순간 측정해서 '몇 번째 계단에 있는지' 숫자로 기록하는 장치
> - Clock이 빨라질수록(표본화), Quantization Levels가 촘촘해질수록(양자화), 원래의 경사로(아날로그 신호)를 더 완벽하게 복원할 수 있음
{: .expert-quote}

### 1.4 디지털 로직 및 인터페이스 (Digital Logic & Interface)

- **역할**
    - 변환된 데이터를 정렬하고,
    - 외부 MCU(아두이노, 라즈베리 파이 등)와 통신
- **통신 방식**
    - I2C, SPI, UART 등 표준 프로토콜을 사용하여 데이터 전송

- **내부 메커니즘**
    - 그림은 ADC가 내뱉은 0과 1의 나열(Raw Bits)을 어떻게 체계적으로 정리하고, 외부의 호스트(MCU, PC 등)와 대화할 수 있는 '언어'로 바꾸는지 보여주는 통신 허브의 구조

    <br>

    <div class="insert-image" style="text-align: center;">
        <img style="width: 700px;" src="/materials/sbc/images/S05-07-02-01_01-004.jpg">
    </div>

    - **디지털 로직 코어 (The Internal Brain)**
        - ADC에서 넘어온 0110... 형태의 데이터를 내부적으로 관리하는 공간

        - **데이터 레지스터 (Data Register):**
            - ADC에서 변환된 최신 측정값을 임시로 보관하는 **'사물함'*
            - 외부 호스트가 데이터를 요청할 때까지 이곳에 안전하게 저장

        - **제어 로직 (Control Logic):**
            - 센서의 전반적인 운영을 담당하는 **'지휘자'**
            - 센서를 잠재울지(Power-down), 얼마나 자주 측정할지(Sampling Rate) 등을 결정

        - **프로토콜 컨트롤러 (Protocol Controller):**
            - 보관된 데이터를 I2C나 SPI 같은 특정 통신 규약에 맞게 포장하는 '번역기' 역할

    - **통신 인터페이스 (The Communication Channels)**
        - 그림 우측에 나열된 통신 방식들: 센서가 외부와 소통하는 **'입과 귀'**

        <div class="info-table">
            <table>
                <thead>
                    <th>인터페이스</th>
                    <th>연결 핀 (그림 참조)</th>
                    <th>특징 및 실무 활용</th>
                </thead>
                <tbody>
                    <tr>
                        <td class="td-rowheader">I2C</td>
                        <td>SDA(데이터), SCL(클럭)</td>
                        <td class="td-left">
                            ● 2가닥의 선으로 여러 센서를 연결할 수 있어 배선이 간편함<br>
                            ● 속도는 보통(스마트폰 내부 센서 등)
                        </td>
                    </tr>
                    <tr>
                        <td class="td-rowheader">SPI</td>
                        <td>MOSI, MISO, SCK, SS</td>
                        <td class="td-left">
                            ● 4가닥 이상의 선을 사용하며 속도가 매우 빠름<br>
                            ● 대용량 데이터나 고속 응답이 필요한 센서에 사용
                        </td>
                    </tr>
                    <tr>
                        <td class="td-rowheader">UART</td>
                        <td>TX(송신), RX(수신)</td>
                        <td class="td-left">
                            ● 클럭 신호가 없는 비동기 방식<br>
                            ● PC와 직접 연결하거나 단순한 통신에 주로 활용
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    - **외부 호스트와의 연결 (External Host Processor)**
        - 그림 가장 오른쪽의 External Host ➜ 라즈베리 파이, 아두이노, 스마트 팩토리의 PLC 등을 의미
        - 이 인터페이스 덕분에 개발자는 센서 내부의 복잡한 물리 현상을 몰라도, 
            - 코드 한 줄(read_sensor())로 정밀한 측정값을 디지털 숫자로 받아볼 수 있게 됨

> - ADC가 만든 데이터가 '편지 내용'이라면, 데이터 레지스터는 편지함이고, 프로토콜 인터페이스는 편지를 보낼 '우편 규격(등기, 일반, 퀵서비스)'
> - 호스트(MCU)는 우체국에 들러 규격에 맞게 포장된 편지를 받아가기만 하면 됨
{: .expert-quote}

## 2. 주요 하드웨어 동작 원리 (변환 메커니즘)

- 하드웨어가 물리량을 전기 신호로 바꾸는 대표적인 메커니즘 3가지
- 센서가 물리적 자극을 만났을 때 내부에서 일어나는 일을 보여줌

### 2.1 저항 변화 원리 (Piezoresistive / Resistive)

- **원리**
    - 힘을 가해 소자가 늘어나거나(스트레인 게이지), 온도가 변해 분자 운동이 바뀌면(서미스터) **전기 저항**이 변하는 성질을 이용
        - 도체의 저항 공식인 $$R = \rho \frac{L}{A}$$ ($$\rho$$: 비저항, $$L$$: 길이, $$A$$: 단면적)를 따름
        - 힘을 가해 $$L$$이 늘어나고 $$A$$가 줄어들면 $$R$$이 커짐

    <div class="insert-image" style="text-align: center;">
        <img style="width: 700px;" src="/materials/sbc/images/S05-07-02-01_01-005.jpg">
    </div>

- **프로세스**
    1. 외부 자극(압력, 인장, 온도) 발생
    2. 센싱 소자(금속선, 반도체 박막 등)의 물리적 변형 또는 물성 변화
    3. 소자의 전기 저항값 변화
    4. 휘트스톤 브리지(Wheatstone Bridge) 회로를 통해 전압 변화로 출력

- **특징**
    - 회로 구성이 비교적 간단하고 저렴함
    - 정적 상태(변하지 않는 압력 등) 측정에 유리함

- **주의사항**
    - **온도 의존성**: 온도가 변하면 저항도 변하므로 온도 보정 회로가 반드시 필요함
    - **이력 현상(Hysteresis)**: 재질의 탄성 한계를 넘으면 원래 저항으로 돌아오지 않을 수 있음

### 2.2 정전용량 변화 원리 (Capacitive)

- **원리**
    - 두 전극판 사이의 **전하 저장 능력($$C$$)**이 변하는 것을 이용
        - 현대 MEMS 센서의 80% 이상이 채택하는 방식
    - 두 전극 사이의 거리나 면적이 변할 때 저장되는 **전하량(Capacitance)**의 변화를 감지
    - 공식 $$C = \epsilon \frac{A}{d}$$를 기초로 함
        - 두 판 사이의 간격($$d$$), 마주 보는 면적($$A$$), 혹은 내부 물질($$\epsilon$$)이 변하면 $$C$$가 변함

    <div class="insert-image" style="text-align: center;">
        <img style="width: 700px;" src="/materials/sbc/images/S05-07-02-01_01-006.jpg">
    </div>

- **프로세스**
    1. 외부 자극(가속도, 터치, 압력) 발생
    2. 가동 전극(Moving Electrode)의 미세한 위치 이동
    3. 두 전극 사이의 간격($$d$$) 또는 면적($$A$$) 변화
    4. 정전용량 변화를 C-to-V(Capacitance to Voltage) 컨버터를 통해 전압으로 변환

- **특징**
    - 감도가 매우 높고 소모 전력이 극히 낮음
    - 비접촉식 측정이 가능하며 열 발생이 적음
    - MEMS(미세전자기계시스템) 기술에 주로 쓰임
    - 가속도 센서나 터치 센서의 핵심 원리가 됨

- **주의사항**
    - **기생 정전용량:** 센서 주변의 금속이나 배선에 의한 불필요한 $$C$$값이 노이즈로 작용함
    - **고임피던스:** 신호가 외부 노이즈에 취약하므로 신호 처리부(AFE)를 최대한 소자 가까이 배치해야 함

### 2.3 기전력 발생 원리 (Piezoelectric / Electrochemical)

- **원리**
    - 외부 압력을 주면 전기가 발생하거나(압전 효과), 화학 반응을 통해 직접 전류가 흐르는 원리
    - 외부 전원 없이 센서 스스로 **전압($$V$$)이나 전류($$I$$)**를 생성하는 '능동형(Active)' 메커니즘

    <div class="insert-image" style="text-align: center;">
        <img style="width: 700px;" src="/materials/sbc/images/S05-07-02-01_01-007.jpg">
    </div>

    - **압전 원리 (Piezoelectric - 물리)**
        - 원리
            - 특정 결정 구조(수정, 세라믹 등)에 압력을 가하면 ➜ 양단에 전하가 쌓이며 ➜ 전압이 발생하는 현상
        - 특징
            - 반응 속도가 매우 빠르고 견고함
        - 주의사항
            - 정적 측정 불가
            - 전하가 시간이 지나면 방전되므로 '변화하는' 진동이나 충격 측정에만 사용 가능함

    - **전기화학 원리 (Electrochemical - 화학)**
        - 원리
            - 타겟 물질(가스, 이온)이 전극과 만나 산화/환원 반응을 일으킬 때 이동하는 전자의 흐름(전류)을 측정
        - 특징
            - 특정 물질에 대한 선택성이 매우 뛰어남
        - 주의사항
            - 수명 제한
            - 전해질이 소모되거나 전극이 오염되므로 주기적인 교체가 필수

### 2.4 메커니즘 별 비교 요약

<div class="info-table">
    <table>
        <thead>
            <th>구분</th>
            <th>저항 변화 (Resistive)</th>
            <th>정전용량 (Capacitive)</th>
            <th>기전력 발생 (Active)</th>
        </thead>
        <tbody>
            <tr>
                <td class="td-rowheader">주요 입력</td>
                <td>온도, 압력, 변위</td>
                <td>가속도, 터치, 근접</td>
                <td>충격, 진동, 특정 가스</td>
            </tr>
            <tr>
                <td class="td-rowheader">회로 복잡도</td>
                <td>낮음</td>
                <td>중간 (C-to-V 필요)</td>
                <td>높음 (초정밀 증폭 필요)</td>
            </tr>
            <tr>
                <td class="td-rowheader">에너지 방식</td>
                <td>수동 (전원 공급 필수)</td>
                <td>수동 (전원 공급 필수)</td>
                <td>능동 (스스로 전기 발생)</td>
            </tr>
            <tr>
                <td class="td-rowheader">실무 키워드</td>
                <td>휘트스톤 브리지</td>
                <td>MEMS, 기생 용량</td>
                <td>자가 발전, 일회용(화학)</td>
            </tr>
        </tbody>
    </table>
</div>

> - **저항과 정전용량**은 '재료의 상태'가 변하는 것을 외부 전기로 알아내는 것이고,
> - **기전력 방식**은 센서가 '발전기'처럼 전기를 직접 만드는 것
{: .expert-quote}

## 3. 하드웨어 설계 시 고려해야 할 실무 포인트

- **SNR (Signal-to-Noise Ratio)**
    - 신호 대비 잡음비
    - 하드웨어 구조상 소자에서 신호를 증폭할 때 잡음도 같이 증폭되므로, 이를 어떻게 분리하느냐가 기술력의 핵심
    
- **임피던스 매칭 (Impedance Matching)**
    - 센서 소자와 신호 처리 회로 간의 전기적 흐름을 원활하게 맞추는 작업
    - 이것이 맞지 않으면 신호가 왜곡되거나 손실됨

- **패키징(Packaging)**
    - 센서 하드웨어를 외부 환경(습기, 먼지, 충격)으로부터 보호하면서도,
    - 측정 대상(공기, 액체)과는 접촉해야 하는
    - 모순된 조건을 해결하는 하드웨어 외장 기술

---

> - 센서 하드웨어는 **'안테나(소자)'**와 **'라디오 회로(AFE/ADC)'**가 합쳐진 것과 같음
> - 아무리 안테나가 좋아도 라디오 회로에서 잡음을 못 걸러내면 지직거리는 소리만 들리듯,
> - 센서 기술은 **소자 자체의 물리적 원리**와 **신호 처리 회로 기술**이 결합되어야 완성됨
{: .expert-quote}
